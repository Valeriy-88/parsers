# Goofish Parser

Мониторинг товаров на японском маркетплейсе Goofish с отправкой уведомлений в Telegram.

## Основные функции

### Парсинг товаров
- Автоматический сбор данных с сайта Goofish
- Поиск по списку URL-адресов (из файла `param.py`)
- Извлечение:
  - Ссылок на товары
  - Изображений
  - Цен

### Управление процессами
- Очистка зависших процессов Chrome/Chromedriver
- Удаление зомби-процессов
- Ротация лог-файлов (при превышении 5MB)

### Уведомления
- Отправка информации о новых товарах в Telegram:
  - С фото (если доступно)
  - С ограничением длины текста (1024 символа)
  - С автоматическим форматированием цены

## Технологии

- Python 3.7+
- Основные библиотеки:
  - `undetected-chromedriver` - для автоматизации браузера
  - `selenium-stealth` - для обхода антибот систем
  - `BeautifulSoup` - для парсинга HTML
  - `requests` - для отправки в Telegram
  - `fake-useragent` - для ротации User-Agent

## Особенности реализации

1. **Антидетект**:
   - Специальные настройки Chrome через undetected-chromedriver
   - Случайные User-Agent
   - Эмуляция человеческого поведения (скроллы, задержки)
   - Управление вкладками

2. **Устойчивость**:
   - Обработка всех возможных ошибок
   - Автоматическая очистка процессов
   - Логирование всех операций

3. **Оптимизация**:
   - Ограничение истории URL (LAST_ITEMS_MAX_SIZE)
   - Проверка размера лог-файла
   - Минимизация нагрузки на систему

## Настройка

1. Заполните параметры в файлах:
   - `parameters.py` - токен Telegram, ID чата, список URL

2. Установите зависимости:
```bash
pip install undetected-chromedriver selenium-stealth beautifulsoup4 requests fake-useragent
```

## Запуск

1. Запустите парсер:
```bash
python goofish.py
```