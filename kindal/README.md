# Kindal Parser

Мониторинг товаров на японском маркетплейсе Kindal с отправкой уведомлений в Telegram.

## Основные функции

### Парсинг товаров
- Автоматический сбор данных с сайта Kindal
- Поиск по списку URL-адресов (из файла `param.py`)
- Извлечение:
  - Ссылок на товары
  - Изображений
  - Цен

### Управление процессами
- Очистка зависших процессов Chrome/Chromedriver
- Удаление зомби-процессов
- Ротация лог-файлов (при превышении 5MB)

### Уведомления
- Отправка информации о новых товарах в Telegram:
  - С фото (если доступно)
  - С ограничением длины текста (1024 символа)
  - С автоматическим форматированием цены

## Технологии

- Python 3.7+
- Основные библиотеки:
  - `undetected chromedriver` - для автоматизации браузера
  - `BeautifulSoup` - для парсинга HTML
  - `requests` - для отправки в Telegram
  - `fake-useragent` - для ротации User-Agent

## Особенности реализации

1. **Антидетект**:
   - Случайные User-Agent
   - Режим инкогнито
   - Случайные задержки между действиями (4-60 сек)

2. **Устойчивость**:
   - Обработка всех возможных ошибок
   - Автоматическая очистка процессов
   - Логирование всех операций

3. **Оптимизация**:
   - Ограничение истории URL (2000 записей)
   - Проверка размера лог-файла
   - Минимизация нагрузки на систему

## Настройка

1. Заполните параметры в файлах:
   - `config.py` - токен Telegram и ID чата
   - `param.py` - список URL для мониторинга

2. Установите зависимости:
```bash
pip install undetected-chromedriver beautifulsoup4 requests fake-useragent
```

## Запуск

1. Запустите парсер:
```bash
python kindal.py
```